{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.Module.css","components/Modal/Modal.Module.css","components/ImageGallery/ImageGallery.Module.css","components/Button/Button.Module.css","components/Loader/Loader.Module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","services/FetchImageByAPI.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.Module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","onToggleModal","largeImageURL","src","alt","ImageGalleryItemImage","onClick","FetchImageByAPI","currentPage","pageSize","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","isLoading","LoaderSpinner","color","height","width","loader","ImageGallery","images","searchQuery","showModal","fetchImg","options","prevState","catch","error","finally","toggleModal","handleModalImage","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","map","id","style","App","inputSubmitHandler","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.854808b0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"_2Kpi2vEcvJOOEAXOyRMGTc\",\"ImageGalleryItemImage\":\"_2BejwE9Rd3yEdXb2aBycRj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"_2nBOynerxnBQcZpCB7FLW-\",\"Modal\":\"_2iAtACXDLuQMU_7cCdsFgc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"_3qxpcvEbhJA_mVUY19fRPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"cJ6x6a7mVGzdZ1TvOojRf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"RdwiQeGY6ItGTUNCtezO3\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.Module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.reset();\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({ query: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.query}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    } \r\n}\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.Module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, onToggleModal, largeImageURL }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img src={webformatURL} alt=\"\" className={s.ImageGalleryItemImage}\r\n       onClick={() => onToggleModal(largeImageURL)}/>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import axios from 'axios';\r\n\r\nconst KEY = '21320653-fe4a570a23bb891fd74acd9f9';\r\n\r\nconst FetchImageByAPI = ({ query = '', currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${ pageSize}`,\r\n  )\r\n      \r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default FetchImageByAPI;\r\n\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.Module.css';\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          {this.props.children}\r\n          <img src=\"\" alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Button.Module.css';\r\n\r\nconst Button = ({ onClick, isLoading }) => (\r\n  <button type=\"button\"\r\n    className={s.Button}\r\n    onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from './Loader.Module.css';\r\n\r\nexport default class LoaderSpinner extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={100}\r\n        width={100}\r\n        // timeout={300000}\r\n        className={s.loader}\r\n      />\r\n    );\r\n  }\r\n}","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport FetchImageByAPI from '../../services/FetchImageByAPI';\r\nimport s from './ImageGallery.Module.css';\r\nimport React, { Component } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../Button';\r\nimport LoaderSpinner from '../Loader/Loader';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    showModal: false,\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.query !== this.props.query) {\r\n      this.setState({ currentPage: 1, images: [], error: null }, () =>\r\n        this.fetchImg(),\r\n      );\r\n    }\r\n\r\n    if (prevState.currentPage !== this.state.currentPage) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImg = () => {\r\n    const { currentPage } = this.state;\r\n    const { query } = this.props;\r\n\r\n    const options = {\r\n      query,\r\n      currentPage,\r\n    };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    FetchImageByAPI(options)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n           currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n   toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }))\r\n  }\r\n\r\n  handleModalImage = url => {\r\n    this.toggleModal();\r\n    this.setState({ largeImageURL: url });\r\n  }\r\n  \r\n  render() {\r\n    const { images, isLoading, error, showModal, largeImageURL } = this.state;\r\n    const shouldRenderLoadMoreButton = images.length > 0;\r\n\r\n    return (\r\n      <div>\r\n        {error && <h1>Try again</h1>}\r\n        <ul className={s.ImageGallery}>\r\n          {images.map(({ id, webformatURL, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              onToggleModal={this.handleModalImage}\r\n              largeImageURL={largeImageURL} />\r\n          ))}\r\n        </ul>\r\n\r\n        {isLoading && (\r\n           <LoaderSpinner/>\r\n        )}\r\n\r\n        {shouldRenderLoadMoreButton && (\r\n          <Button onClick={this.fetchImg}/>          \r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" style={{ width: 900 }} />\r\n          </Modal>\r\n        )}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n  \r\n","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\n\nclass App extends Component {\n  state = {\n    query: ''\n  }\n\n  inputSubmitHandler = query => {\n    this.setState({ query });\n  }\n\n  render(){\n    return (\n      <div>\n        <Searchbar onSubmit={this.inputSubmitHandler} />\n        <ImageGallery query={this.state.query} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Q9gjx1RHRv8-v6Bmj3Py5\",\"SearchForm\":\"_31Y9Jq9n0whv_krAKNZjZR\",\"SearchFormButton\":\"_3H7Owfo8GRxFPLkZsRZmCG\",\"SearchFormButtonLabel\":\"_2sTXJ1DM4T_yHgB6tB0kkP\",\"SearchFormInput\":\"_3mECDT_f_jsjqutog-Yk_g\"};"],"sourceRoot":""}